(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{228:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"搭建静态网站"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搭建静态网站"}},[t._v("#")]),t._v(" 搭建静态网站")]),t._v(" "),s("p",[t._v("在腾讯云上获取一个云主机，使用"),s("code",[t._v("putty")]),t._v("登录到实例。本次的主机采用CentOS，以下都是在CentOS上进行操作。")]),t._v(" "),s("h3",{attrs:{id:"安装nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx"}},[t._v("#")]),t._v(" 安装Nginx")]),t._v(" "),s("p",[t._v("在CentOS上，可直接使用"),s("code",[t._v("yum")]),t._v("来安装Nginx")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nginx -y\n\nyum remove nginx // 删除nginx\n")])])]),s("p",[t._v("安装完成后，使用"),s("code",[t._v("nginx")]),t._v("命令启动Nginx。此时，访问公网IP就可以看到Nginx的测试页面。")]),t._v(" "),s("h3",{attrs:{id:"配置静态服务器访问路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置静态服务器访问路径"}},[t._v("#")]),t._v(" 配置静态服务器访问路径")]),t._v(" "),s("p",[t._v("外网用户访问服务器的Web服务由Nginx提供，Nginx需要配置静态资源的路径信息才能通过url正确访问到服务器上的静态资源。")]),t._v(" "),s("p",[t._v("打开Nginx的默认配置文件"),s("code",[t._v("/etc/nginx/nginx.conf")]),t._v("，修改Nginx配置，将默认的"),s("code",[t._v("root /usr/share/nginx/html;")]),t._v("修改为"),s("code",[t._v("root /data/www;")]),t._v("。")]),t._v(" "),s("p",[t._v("配置文件将 "),s("code",[t._v("/data/www/static")]),t._v(" 作为所有静态资源请求的根路径，如访问: "),s("code",[t._v("http://<您的域名>/static/index.js")]),t._v("，将会去 "),s("code",[t._v("/data/www/static/")]),t._v(" 目录下去查找 index.js。现在我们需要重启 Nginx 让新的配置生效，如：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("nginx -s reload\n")])])]),s("p",[t._v("接下来创建"),s("code",[t._v("/data/www")]),t._v("目录，然后在该目录下创建一个"),s("code",[t._v("index.html")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token doctype"}},[t._v("<!DOCTYPE html>")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("zh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("index"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\nHello world!\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("现在访问 "),s("code",[t._v("http://<您的域名>/index.html")]),t._v(" 应该可以看到页面输出 "),s("code",[t._v("[Hello world!]")])]),t._v(" "),s("p",[t._v("到此，一个基于 Nginx 的静态服务器就搭建完成了，现在所有放在 /data/www 目录下的的静态资源都可以直接通过域名访问。")]),t._v(" "),s("p",[t._v("可以通过"),s("code",[t._v("filezilla")]),t._v("实现服务器文件的上传与下载。")])])}),[],!1,null,null,null);a.default=e.exports}}]);