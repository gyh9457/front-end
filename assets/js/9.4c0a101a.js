(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{209:function(t,v,e){"use strict";e.r(v);var _=e(0),a=Object(_.a)({},(function(){var t=this,v=t.$createElement,e=t._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h3",{attrs:{id:"创建项目的流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建项目的流程"}},[t._v("#")]),t._v(" 创建项目的流程")]),t._v(" "),e("p",[e("code",[t._v("@grow-all/cli")]),t._v(" 在创建项目时，以模板为核心选项。")]),t._v(" "),e("p",[t._v("模板可以视为一个插件，拥有和普通插件相同的结构。这些模板通常是针对某一特定场景的最佳实践，比如针对中后台管理系统的脚手架、用于创建 sdk 的模板等等。")]),t._v(" "),e("p",[e("code",[t._v("@grow-all/cli")]),t._v(" 创建项目，流程如下：")]),t._v(" "),e("ul",[e("li",[t._v("项目名称、项目路径校验")]),t._v(" "),e("li",[t._v("选择模板")]),t._v(" "),e("li",[t._v("模板内进行提问，采集创建选项")]),t._v(" "),e("li",[t._v("执行内置提问，采集通用信息，如 registry 等")]),t._v(" "),e("li",[t._v("调用模板内的 "),e("code",[t._v("generator")]),t._v(" 生成文件")]),t._v(" "),e("li",[t._v("下载依赖")]),t._v(" "),e("li",[t._v("git 初始化")])]),t._v(" "),e("h3",{attrs:{id:"vue-cli-创建项目的流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-创建项目的流程"}},[t._v("#")]),t._v(" vue-cli 创建项目的流程")]),t._v(" "),e("p",[e("code",[t._v("@vue/cli")]),t._v(" 通过各个插件提供项目特性(feature)，进而组装成一个完整的项目。基础插件为 "),e("code",[t._v("@vue/cli-service")]),t._v("。里面既提供了 "),e("code",[t._v("webpack")]),t._v(" 构建能力，也提供了基础模板。")]),t._v(" "),e("p",[t._v("创建项目的流程如下：")]),t._v(" "),e("ul",[e("li",[t._v("项目名称、项目路径校验")]),t._v(" "),e("li",[t._v("选择 "),e("code",[t._v("本地 preset")]),t._v("、"),e("code",[t._v("默认 preset")]),t._v(" 、"),e("code",[t._v("手动选择特性")]),t._v(" 这三种模式，本质上都是选择各种插件以支持功能，如 lint、unit test、typescript 等。")]),t._v(" "),e("li",[t._v("加载插件 (内置@vue/cli-service 和选择的其他插件)")]),t._v(" "),e("li",[t._v("选择包管理器，默认使用 "),e("code",[t._v("yarn")])]),t._v(" "),e("li",[t._v("创建 package.json")]),t._v(" "),e("li",[t._v("git 初始化")]),t._v(" "),e("li",[t._v("下载插件依赖")]),t._v(" "),e("li",[t._v("调用插件内 "),e("code",[t._v("generator")]),t._v(" 生成项目文件")]),t._v(" "),e("li",[t._v("下载 "),e("code",[t._v("generator")]),t._v(" 时额外添加的文件")]),t._v(" "),e("li",[t._v("生成 "),e("code",[t._v("README.md")])]),t._v(" "),e("li",[t._v("生成 "),e("code",[t._v(".npmrc")]),t._v(" 配置文件")]),t._v(" "),e("li",[e("code",[t._v("git commit")])])]),t._v(" "),e("h3",{attrs:{id:"插件体系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插件体系"}},[t._v("#")]),t._v(" 插件体系")]),t._v(" "),e("p",[t._v("使用 "),e("code",[t._v("@vue/cli")]),t._v(" 的插件体系，一个插件的结构如下：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  ├── "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("README")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n  ├── generator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js  # "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("generator")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ├── prompts"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js    # prompt "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("文件")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ├── index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js      # service 插件\n  ├── migrator"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js   # "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("migrator")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可选"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  └── "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n")])])]),e("p",[t._v("其中 "),e("code",[t._v("prompt")]),t._v(" 用于提问，"),e("code",[t._v("generator")]),t._v(" 用于生成文件，"),e("code",[t._v("service")]),t._v(" 用于修改项目内的 "),e("code",[t._v("webpack")]),t._v(" 配置，"),e("code",[t._v("migrator")]),t._v(" 用于升级。")]),t._v(" "),e("p",[e("code",[t._v("@vue/cli")]),t._v(" 提供 "),e("code",[t._v("vue add")]),t._v(" 命令，用于在现有项目内添加插件。对于插件依赖已经被安装，但未执行生成器的情况，提供 "),e("code",[t._v("vue invoke")]),t._v(" 命令，跳过安装过程，只调用它的生成器。")]),t._v(" "),e("h4",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://cli.vuejs.org/zh/dev-guide/plugin-dev.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue 插件开发指南"),e("OutboundLink")],1)])])}),[],!1,null,null,null);v.default=a.exports}}]);